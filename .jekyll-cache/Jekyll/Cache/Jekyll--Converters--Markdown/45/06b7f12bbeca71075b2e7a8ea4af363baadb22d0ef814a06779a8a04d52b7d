I"'<blockquote>
  <p>Handling payments is very complex, not talking the security risks one can take if handling payment information. Stripe API, make things easier, secure and faster to deploy</p>
</blockquote>

<h1 id="implementing-stripe-api-in-react">Implementing Stripe API in React</h1>

<p>In my latest React project, <a href="https://studio-ghibli-fanhub.herokuapp.com/">Studio Ghibliâ€™s Fan Hub</a> I implemented Stripe API to test and handle payments on the Shop component of the app.</p>

<p>Handling payments is very complex, not talking the security risks one can take if handling payment information. Stripe API, make things easier, secure and faster to deploy.</p>

<p><strong>Intro to Stripe</strong></p>

<p>Stripe is well known in the payments sphere. You can read the <a href="https://stripe.com/docs">docs</a> to learn more how easy it can be implemented. But basically Stripe renders itself the handling of payments and you implement some configuration to get the payment information and handle it backend. For this post we will focus on the frontend with React.</p>

<p><strong>Setting Up Stripe</strong></p>

<p>Again we will implement the <em>frontend of Stripe</em>. We might implement the backend handling of the data received in a future blog.</p>

<p>First things first lets <a href="https://dashboard.stripe.com/register">sign up for Stripe account</a>.</p>

<p><strong>Integrating Stripe</strong></p>

<p>Lets add it to our package.json</p>

<p><code class="highlighter-rouge">yarn add react-stripe-checkout</code></p>

<p>With this installed we can now add our Stripe element to render it frontend. Lets begin by creating a boilerplate element such as this one.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">StripeCheckout</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-stripe-checkout</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">StripeBtn</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">price</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">priceForStripe</span> <span class="o">=</span> <span class="nx">price</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="kd">const</span> <span class="nx">publishableKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">your_key</span><span class="dl">"</span>
    
    <span class="kd">const</span> <span class="nx">onToken</span> <span class="o">=</span> <span class="nx">token</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">token</span><span class="p">)</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Payment Successful</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>

<span class="k">return</span> <span class="p">(</span>
<span class="o">&lt;</span><span class="nx">StripeCheckout</span>
    <span class="nx">label</span><span class="o">=</span><span class="dl">"</span><span class="s2">Pay Now</span><span class="dl">"</span>
    <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Studio Ghibli's Fan Hub (Demo Purposes)</span><span class="dl">"</span>
    <span class="nx">billingAddress</span>
    <span class="nx">shippingAddress</span>
    <span class="nx">image</span><span class="o">=</span><span class="dl">"</span><span class="s2">https://svgshare.com/i/Lko.svg</span><span class="dl">"</span>
    <span class="nx">description</span><span class="o">=</span><span class="p">{</span><span class="s2">`Your (demo) total is </span><span class="p">${</span><span class="nx">price</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
    <span class="nx">amount</span><span class="o">=</span><span class="p">{</span><span class="nx">priceForStripe</span><span class="p">}</span>
    <span class="nx">panelLabel</span><span class="o">=</span><span class="dl">"</span><span class="s2">Pay Now</span><span class="dl">"</span>
    <span class="nx">token</span><span class="o">=</span><span class="p">{</span><span class="nx">onToken</span><span class="p">}</span>
    <span class="nx">stripeKey</span><span class="o">=</span><span class="p">{</span><span class="nx">publishableKey</span><span class="p">}</span>
<span class="o">&gt;</span>

<span class="o">&lt;</span><span class="sr">/StripeCheckout</span><span class="err">&gt;
</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">StripeBtn</span>
</code></pre></div></div>

<p>Not here it is worth mentioning that stripe handles values as cents, that is why we create the const. The <code class="highlighter-rouge">publishableKey</code> is your own API key. To get the key, just access your new account and click on developer tab then API keys.</p>

<p><img src="https://i.udemycdn.com/redactor/raw/2019-07-01_06-21-56-2d4f24984f3ec9b4c75abae102479511.png" alt="img" /></p>

<p>Now, the imported <code class="highlighter-rouge">stripeCheckout</code> has a bunch of features and you can read more <a href="https://github.com/azmenak/react-stripe-checkout">here</a>.</p>

<p><code class="highlighter-rouge">token</code> is where you process your payment on your backend. For now we will just log it to the console and have the fake alert.</p>

<p>With this you can go ahead and test adding this button to your appropriate component and see the button has been added accordingly. Hereâ€™s how it shows on mine:</p>

<p><img src="https://user-images.githubusercontent.com/15071636/83676511-6b31d600-a5a0-11ea-80d7-66ec5295fa64.png" alt="Screen Shot 2020-06-03 at 1 42 14 PM" /></p>

<p><em>You might see some console errors they are usual Stripeâ€™s end and had to do with style them, if it doesnâ€™t affect functionality ignore them for now.</em></p>

<p>Go ahead and test by using any of the test credit cards found a <a href="https://stripe.com/docs/testing">Stripeâ€™s docs</a>. Everything should test correctly. And done you have implemented Stripe! Hereâ€™s the token object format.</p>

<p><img src="https://user-images.githubusercontent.com/15071636/83676736-c49a0500-a5a0-11ea-9a90-f9606edff021.png" alt="Screen Shot 2020-06-03 at 1 46 45 PM" /></p>

<p>Now although these are just the first steps. You can continue building and show how as a React developer you can implement Stripe!</p>
:ET